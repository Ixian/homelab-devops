{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended", "docker:enableMajor"],
  "platform": "gitea",
  "repositories": [
    "geoff/Homelab-Austin",
    "geoff/Homelab-OCI",
    "geoff/Homelab-OCI-2",
    "geoff/Homelab-HSB"
  ],
  "packageRules": [
    {
      "description": "Auto-merge patch and minor updates",
      "matchUpdateTypes": ["patch", "minor", "digest"],
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Keep develop tags for *arr apps",
      "matchPackagePatterns": ["sonarr", "radarr", "lidarr", "prowlarr"],
      "matchCurrentVersion": "develop",
      "enabled": false
    },
    {
      "description": "Skip local builds",
      "matchPackageNames": ["scriberr"],
      "enabled": false
    },
    {
      "description": "Group Dify updates",
      "matchPackagePatterns": ["langgenius/dify"],
      "groupName": "Dify"
    },
    {
      "description": "Group Immich updates",
      "matchPackagePatterns": ["ghcr.io/immich-app"],
      "groupName": "Immich"
    },
    {
      "description": "Group VPN stack (qbittorrent depends on gluetun network)",
      "matchPackagePatterns": ["gluetun", "qbittorrent"],
      "groupName": "VPN Stack"
    }
  ],
  "timezone": "America/Chicago"
}
